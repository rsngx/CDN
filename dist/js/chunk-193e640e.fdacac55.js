(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-193e640e"],{"06c5":function(e,r,t){"use strict";t.d(r,"a",(function(){return s}));t("a630"),t("fb6a"),t("b0c0"),t("d3b7"),t("ac1f"),t("25f0"),t("3ca3");var a=t("6b75");function s(e,r){if(e){if("string"===typeof e)return Object(a["a"])(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(a["a"])(e,r):void 0}}},2909:function(e,r,t){"use strict";t.d(r,"a",(function(){return l}));var a=t("6b75");function s(e){if(Array.isArray(e))return Object(a["a"])(e)}t("a4d3"),t("e01a"),t("d28b"),t("a630"),t("d3b7"),t("3ca3"),t("ddb0");function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}var n=t("06c5");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return s(e)||o(e)||Object(n["a"])(e)||i()}},4594:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e._self._c;return r("a-modal",{attrs:{title:e.title,width:800,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[r("a-card",{attrs:{"body-style":{padding:"20px"},bordered:!1}},[r("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[r("a-row",{staticClass:"form-row",attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"填写人",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入填写人",whitespace:!0}]}],expression:"[\n                'name',\n                {rules: [{ required: true, message: '请输入填写人', whitespace: true}]}\n              ]"}],attrs:{disabled:e.disabled,placeholder:"请输入"}})],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"身份证号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["idcard",{rules:[{required:!0,message:"请输入18位身份证号码",whitespace:!0,pattern:/(^\d{17}([0-9]|X|x)$)/}]}],expression:"[\n                'idcard',\n                {rules: [{ required: true, message: '请输入18位身份证号码', whitespace: true, pattern: /(^\\d{17}([0-9]|X|x)$)/}]}\n              ]"}],attrs:{placeholder:"请输入18位身份证号码"}})],1)],1)],1),e.bjFlag?[r("a-row",{staticClass:"form-row",attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"Package",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["level",{rules:[{required:!0,message:"请选择Package"}]}],expression:"[\n                  'level',\n                  {rules: [{ required: true, message: '请选择Package'}]}\n                ]"}],staticStyle:{width:"120%"},attrs:{placeholder:"请选择"},on:{change:e.onChange}},e._l(e.getDataByType("level"),(function(t){return r("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1),r("a-row",{staticClass:"form-row",attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"SPC",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["spc",{rules:[{required:!0,message:"请选择SPC"}]}],expression:"[\n                  'spc',\n                  {rules: [{ required: true, message: '请选择SPC'}]}\n                ]"}],staticStyle:{width:"120px"},attrs:{placeholder:"请选择"},on:{change:e.onChange}},[e._l(e.getDataByType("spc"),(function(t){return r("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),r("a-select-option",{key:"other"},[e._v("其他")])],2),"other"===e.form.getFieldValue("spc")?r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["spcCustomed",{rules:[{required:!0,message:"请输入自定义spc值",whitespace:!0}]}],expression:"[\n                  'spcCustomed',\n                  {rules: [{ required: true, message: '请输入自定义spc值', whitespace: true}]}\n                ]"}],style:{width:"120px",marginLeft:"16px",borderColor:e.borderColor},attrs:{placeholder:"请输入"}}):e._e()],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"公司",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["vendor",{rules:[{required:!0,message:"请选择公司"}]}],expression:"[\n                  'vendor',\n                  {rules: [{ required: true, message: '请选择公司'}]}\n                ]"}],attrs:{placeholder:"请选择",allowClear:""}},e._l(e.vendorOptions,(function(t){return r("a-select-option",{key:t.dept_name},[e._v(e._s(t.dept_name))])})),1)],1)],1)],1)]:e._e(),r("a-row",{staticClass:"form-row",attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"是否在岗",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["onjob",{rules:[{required:e.required,message:"请选择是否在岗"}]}],expression:"[\n                'onjob',\n                {rules: [{ required: required, message: '请选择是否在岗'}]}\n              ]"}],attrs:{placeholder:"请选择",disabled:"supplier"===e.noEditFlag},on:{change:e.handleChange}},e._l(e.onjobOption,(function(t){return r("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"电话",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{rules:[{required:e.required,message:"请输入电话",whitespace:!0}]}],expression:"[\n                'mobile',\n                {rules: [{ required: required, message: '请输入电话', whitespace: true}]}\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1)],1),r("a-row",{staticClass:"form-row",attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"Base省",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["base_province",{rules:[{required:e.required,message:"请选择项目省"}]}],expression:"[\n                'base_province',\n                {rules: [{ required: required, message: '请选择项目省'}]}\n              ]"}],attrs:{placeholder:"请选择"},on:{change:e.onChange}},e._l(e.baseProvinceOptions,(function(t){return r("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"Base市",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["base_city",{rules:[{required:e.required,message:"请输入Base市",whitespace:!0}]}],expression:"[\n                'base_city',\n                {rules: [{ required: required, message: '请输入Base市', whitespace: true}]}\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1)],1),e.bjFlag&&e.pFlag?r("a-row",{staticClass:"form-row",attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"项目省",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["province",{rules:[{required:e.required,message:"请选择项目省"}]}],expression:"[\n                'province',\n                {rules: [{ required: required, message: '请选择项目省'}]}\n              ]"}],attrs:{placeholder:"请选择"},on:{change:e.onProvinceChange}},e._l(e.provinceOptions,(function(t){return r("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"项目运营商",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["cbt",{rules:[{required:e.required,message:"请选择项目运营商"}]}],expression:"[\n                'cbt',\n                {rules: [{ required: required, message: '请选择项目运营商'}]}\n              ]"}],attrs:{placeholder:"请选择"},on:{change:e.onChange}},e._l(e.cbtFilterOptions,(function(t){return r("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1):e._e(),r("a-row",{staticClass:"form-row",attrs:{gutter:24}},[r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"产品技能",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["product_skills",{rules:[{required:e.required,message:"请选择产品技能"}]}],expression:"[\n                'product_skills',\n                {rules: [{ required: required, message: '请选择产品技能'}]}\n              ]"}],attrs:{placeholder:"请选择"},on:{change:e.onChange}},e._l(e.getDataByType("product_skills"),(function(t){return r("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1),r("a-col",{attrs:{span:12}},[r("a-form-item",{attrs:{label:"业务技能",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["business_skills",{rules:[{required:e.required,message:"请选择业务技能"}]}],expression:"[\n                'business_skills',\n                {rules: [{ required: required, message: '请选择业务技能'}]}\n              ]"}],attrs:{placeholder:"请选择"},on:{change:e.onChange}},e._l(e.getDataByType("business_skills"),(function(t){return r("a-select-option",{key:t},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1),r("a-row",{staticClass:"form-row",attrs:{gutter:24}},[r("a-form-item",{staticStyle:{"margin-left":"-65px","margin-right":"10px"},attrs:{label:"半年工作经验",labelCol:{lg:{span:5}},wrapperCol:{lg:{span:19}}}},[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["experience",{rules:[{required:e.required,message:"请输入",whitespace:!0}]}],expression:"[\n              'experience',\n              {rules: [{ required: required, message: '请输入', whitespace: true}]}\n            ]"}],attrs:{rows:"3",placeholder:"请输入"}})],1)],1)],2)],1)],1)},s=[],o=t("2909"),n=(t("4de4"),t("caad"),t("4e82"),t("b0c0"),t("d3b7"),t("2532"),t("159b"),t("322e")),i=t("8ac3"),l={name:"AddForm",components:{AFormItem:n["a"]},props:["vendorOptions","noEditFlag"],data:function(){return{onjobOption:["在岗","空闲","离职"],provinceOptions:[],baseProvinceOptions:[],cbtFilterOptions:[],cbtOptions:[],dicArray:[],title:"",pFlag:!1,confirmLoading:!1,itemId:"",visible:!1,bjFlag:!0,required:!0,labelCol:{lg:{span:6},xs:{span:24},sm:{span:19}},wrapperCol:{lg:{span:18},xs:{span:24},sm:{span:19}},disabled:!1,spcOptions:[],borderColor:"#d9d9d9"}},beforeCreate:function(){var e=this;this.form=this.$form.createForm(this),Object(i["e"])().then((function(r){e.dicArray=r.data,e.cbtOptions=e.getDataByType("cbt").filter((function(e){return"其他"!==e})),e.cbtFilterOptions=Object(o["a"])(e.cbtOptions)}))},created:function(){var e=this;Object(i["k"])().then((function(r){var t=[],a=[];r.data.forEach((function(e){t.push(e.dept_name),["T2","集中开发","西区&南区","北区&东区","总部"].indexOf(e.dept_name)<0&&a.push(e.dept_name)})),e.provinceOptions=t,e.baseProvinceOptions=a}))},methods:{getDataByType:function(e){var r=[];if(this.dicArray.length>0)return this.dicArray.forEach((function(t){t.dic_type===e&&r.push(t.dic_value)})),"spc"===e&&(this.spcOptions=r,r.sort()),r},handleChange:function(){var e=this;this.$nextTick((function(){e.pFlag="在岗"===e.form.getFieldValue("onjob")}))},add:function(){this.bjFlag=!0,this.required=!1,this.title="添加人员信息",this.itemId="";var e=this.form,r=e.resetFields,t=e.setFieldsValue;this.$nextTick((function(){r(),t({onjob:"在岗"})})),this.visible=!0},edit:function(e,r){var t=this;r?(this.bjFlag=!0,this.required=!1,this.disabled=!1):(this.bjFlag=!1,this.required=!0,this.disabled=!0),this.title="编辑人员信息",this.visible=!0,this.itemId=e.id;var a=this.form.setFieldsValue;this.$nextTick((function(){a({name:e.name,mobile:e.mobile,onjob:e.onjob,vendor:e.vendor,email:e.email,idcard:e.idcard,pm:e.pm,province:e.province,cbt:e.cbt,product_skills:e.product_skills,business_skills:e.business_skills,level:e.level,spc:t.spcOptions.includes(e.spc)?e.spc:"other",experience:e.experience,base_province:e.base_province,base_city:e.base_city})})),this.spcOptions.includes(e.spc)||"other"===e.spc||(e.spcCustomed=e.spc,setTimeout((function(){a({spcCustomed:e.spcCustomed})}),300))},onProvinceChange:function(e){"集中开发"===e?(this.cbtFilterOptions=["集中开发"],this.form.setFieldsValue({cbt:"集中开发"})):["西区&南区","北区&东区","T2"].indexOf(e)>-1?(this.cbtFilterOptions=["集中交付"],this.form.setFieldsValue({cbt:"集中交付"})):(this.cbtFilterOptions=this.cbtOptions.filter((function(e){return["集中交付","集中开发"].indexOf(e)<0})),this.form.setFieldsValue({cbt:""}))},onChange:function(){},handleCancel:function(){this.visible=!1},handleSubmit:function(e){var r=this;e.preventDefault(),this.form.validateFields((function(e,t){e?t.spcCustomed||(r.$message.error("请填写spc自定义值！"),r.borderColor="red"):("red"===r.borderColor&&(r.borderColor="#d9d9d9"),r.confirmLoading=!0,"other"===t.spc&&(t.spc=t.spcCustomed,delete t.spcCustomed),r.itemId?(t.id=r.itemId,Object(i["r"])(t).then((function(e){"ok"===e.state?(r.$message.success("编辑成功",2),r.$emit("ok",t)):r.$message.error("编辑失败",2),r.visible=!1,r.confirmLoading=!1})).catch((function(){r.visible=!1,r.confirmLoading=!1}))):(t.submitter=r.$store.state.user.name,Object(i["a"])(t).then((function(e){"ok"===e.state?(r.$message.success("添加完成",2),r.$emit("ok",t)):r.$message.error("添加失败",2),r.visible=!1,r.confirmLoading=!1})).catch((function(){r.visible=!1,r.confirmLoading=!1}))))}))}}},c=l,u=t("2877"),d=Object(u["a"])(c,a,s,!1,null,null,null);r["default"]=d.exports},"6b75":function(e,r,t){"use strict";function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}t.d(r,"a",(function(){return a}))},"8ac3":function(e,r,t){"use strict";t.d(r,"i",(function(){return o})),t.d(r,"b",(function(){return n})),t.d(r,"h",(function(){return i})),t.d(r,"m",(function(){return l})),t.d(r,"j",(function(){return c})),t.d(r,"l",(function(){return u})),t.d(r,"g",(function(){return d})),t.d(r,"n",(function(){return p})),t.d(r,"q",(function(){return m})),t.d(r,"p",(function(){return b})),t.d(r,"e",(function(){return f})),t.d(r,"f",(function(){return h})),t.d(r,"k",(function(){return g})),t.d(r,"o",(function(){return v})),t.d(r,"a",(function(){return C})),t.d(r,"d",(function(){return w})),t.d(r,"r",(function(){return _})),t.d(r,"c",(function(){return y}));var a=t("b775"),s={query:"supplier/query",add:"supplier/add",deleteData:"supplier/del",update:"supplier/update",submit:"supplier/submit",audit:"supplier/audit",reject:"supplier/reject",getDicByType:"dict/getByType",getDicAll:"dict/all",getProvice:"org/province",getVendor:"/org/vendor",getAnylisisList:"/supplier/multi_statistics",getProjectStatic:"/supplier/project_statistical",getStatustics:"/supplier/level_statistical",getProjectsDetail:"/supplier/detail",getToDo:"/supplier/todo",getHnStatustics:"/supplier/Hn_level_statistical",addScore:"/score/add_score",updateScore:"/score/update_score",getPscore:"/score/detail_employees_score",getVscore:"/score/detail_supplier_score"};function o(e){return Object(a["b"])({url:s.getProjectStatic,method:"post",params:e})}function n(e){return Object(a["b"])({url:s.addScore,method:"post",params:e})}function i(e){return Object(a["b"])({url:s.getAnylisisList,method:"post",params:e})}function l(e){return Object(a["b"])({url:s.getToDo,method:"post",params:e})}function c(e){return Object(a["b"])({url:s.getProjectsDetail,method:"post",params:e})}function u(e){return Object(a["b"])({url:s.getStatustics,method:"post",params:e})}function d(e){return Object(a["b"])({url:s.getHnStatustics,method:"post",params:e})}function p(e){return Object(a["b"])({url:s.getVendor,method:"get",params:e})}function m(e){return Object(a["b"])({url:s.submit,method:"post",params:e})}function b(e){return Object(a["b"])({url:s.reject,method:"post",params:e})}function f(e){return Object(a["b"])({url:s.getDicAll,method:"get",params:e})}function h(e){return Object(a["b"])({url:s.getDicByType,method:"get",params:e})}function g(e){return Object(a["b"])({url:s.getProvice,method:"get",params:e})}function v(e){return Object(a["b"])({url:s.query,method:"post",params:e})}function C(e){return Object(a["b"])({url:s.add,method:"post",params:e})}function w(e){return Object(a["b"])({url:s.deleteData,method:"post",params:e})}function _(e){return Object(a["b"])({url:s.update,method:"post",params:e})}function y(e){return Object(a["b"])({url:s.audit,method:"post",params:e})}}}]);