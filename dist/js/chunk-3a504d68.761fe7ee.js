(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a504d68","chunk-5b3ab01e"],{"0f80":function(e,t,r){},"2df9":function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return c}));var n=r("b775"),a={query:"pmcbt/query",add:"pmcbt/add",deleteData:"pmcbt/delete",update:"pmcbt/update"};function i(e){return Object(n["b"])({url:a.query,method:"get",params:e})}function o(e){return Object(n["b"])({url:a.add,method:"post",params:e})}function s(e){return Object(n["b"])({url:a.deleteData,method:"post",params:e})}function c(e){return Object(n["b"])({url:a.update,method:"post",params:e})}},"8ac3":function(e,t,r){"use strict";r.d(t,"i",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"h",(function(){return s})),r.d(t,"m",(function(){return c})),r.d(t,"j",(function(){return u})),r.d(t,"l",(function(){return l})),r.d(t,"g",(function(){return d})),r.d(t,"n",(function(){return p})),r.d(t,"q",(function(){return m})),r.d(t,"p",(function(){return f})),r.d(t,"e",(function(){return b})),r.d(t,"f",(function(){return h})),r.d(t,"k",(function(){return g})),r.d(t,"o",(function(){return v})),r.d(t,"a",(function(){return y})),r.d(t,"d",(function(){return O})),r.d(t,"r",(function(){return k})),r.d(t,"c",(function(){return _}));var n=r("b775"),a={query:"supplier/query",add:"supplier/add",deleteData:"supplier/del",update:"supplier/update",submit:"supplier/submit",audit:"supplier/audit",reject:"supplier/reject",getDicByType:"dict/getByType",getDicAll:"dict/all",getProvice:"org/province",getVendor:"/org/vendor",getAnylisisList:"/supplier/multi_statistics",getProjectStatic:"/supplier/project_statistical",getStatustics:"/supplier/level_statistical",getProjectsDetail:"/supplier/detail",getToDo:"/supplier/todo",getHnStatustics:"/supplier/Hn_level_statistical",addScore:"/score/add_score",updateScore:"/score/update_score",getPscore:"/score/detail_employees_score",getVscore:"/score/detail_supplier_score"};function i(e){return Object(n["b"])({url:a.getProjectStatic,method:"post",params:e})}function o(e){return Object(n["b"])({url:a.addScore,method:"post",params:e})}function s(e){return Object(n["b"])({url:a.getAnylisisList,method:"post",params:e})}function c(e){return Object(n["b"])({url:a.getToDo,method:"post",params:e})}function u(e){return Object(n["b"])({url:a.getProjectsDetail,method:"post",params:e})}function l(e){return Object(n["b"])({url:a.getStatustics,method:"post",params:e})}function d(e){return Object(n["b"])({url:a.getHnStatustics,method:"post",params:e})}function p(e){return Object(n["b"])({url:a.getVendor,method:"get",params:e})}function m(e){return Object(n["b"])({url:a.submit,method:"post",params:e})}function f(e){return Object(n["b"])({url:a.reject,method:"post",params:e})}function b(e){return Object(n["b"])({url:a.getDicAll,method:"get",params:e})}function h(e){return Object(n["b"])({url:a.getDicByType,method:"get",params:e})}function g(e){return Object(n["b"])({url:a.getProvice,method:"get",params:e})}function v(e){return Object(n["b"])({url:a.query,method:"post",params:e})}function y(e){return Object(n["b"])({url:a.add,method:"post",params:e})}function O(e){return Object(n["b"])({url:a.deleteData,method:"post",params:e})}function k(e){return Object(n["b"])({url:a.update,method:"post",params:e})}function _(e){return Object(n["b"])({url:a.audit,method:"post",params:e})}},ad19:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("a-layout-content",{style:{background:"#fff",padding:"24px",margin:0,minHeight:"280px"}},[t("div",{staticClass:"table-page-search-wrapper"},[t("a-form",{attrs:{layout:"inline"}},[t("a-row",{attrs:{gutter:12}},[t("a-col",{attrs:{md:12,sm:24}},[t("a-button",{staticStyle:{"margin-right":"12px"},attrs:{type:"primary"},on:{click:function(t){return e.$refs.createModal.add()}}},[e._v("新增")])],1),t("a-col",{attrs:{md:12,sm:24}},[t("a-row",{attrs:{gutter:12}},[t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"用户名"}},[t("a-input",{attrs:{placeholder:"请输入",allowClear:""},model:{value:e.queryItem.user_name,callback:function(t){e.$set(e.queryItem,"user_name",t)},expression:"queryItem.user_name"}})],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("a-form-item",{attrs:{label:"项目省"}},[t("a-select",{attrs:{"show-search":"",placeholder:"请选择","filter-option":e.filterOption,allowClear:""},model:{value:e.queryItem.province,callback:function(t){e.$set(e.queryItem,"province",t)},expression:"queryItem.province"}},e._l(e.provinceOptions,(function(r){return t("a-select-option",{key:r},[e._v(e._s(r))])})),1)],1)],1),t("a-col",{attrs:{md:8,sm:24}},[t("span",{staticClass:"table-page-search-submitButtons"},[t("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),t("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryItem={}}}},[e._v("重置")])],1)])],1)],1)],1)],1)],1),t("s-table",{ref:"table",attrs:{size:"default",columns:e.columns,data:e.loadData,scroll:{x:!0},rowKey:function(e){return e.id}},scopedSlots:e._u([{key:"remark",fn:function(r){return[t("span",{staticClass:"smileDark",attrs:{title:r}},[e._v(e._s(r))])]}},{key:"action",fn:function(r,n){return t("span",{},[t("a",{on:{click:function(t){return e.$refs.createModal.edit(n)}}},[e._v("修改")]),t("a-divider",{attrs:{type:"vertical"}}),t("a",{staticStyle:{color:"red"},attrs:{type:"delete"},on:{click:function(t){return e.handleDelete(n)}}},[e._v("删除")])],1)}}])}),t("p-m-form",{ref:"createModal",attrs:{provinceOptions:e.provinceOptions},on:{ok:e.handleOk}})],1)},a=[],i=r("5530"),o=(r("d3b7"),r("159b"),r("2af9")),s=r("8ac3"),c=r("2df9"),u=r("eda1"),l=[{align:"center",title:"用户名",dataIndex:"user_name",key:"user_name"},{align:"center",title:"项目省",dataIndex:"province",key:"province"},{align:"center",title:"项目运营商",dataIndex:"cbt",key:"cbt"},{align:"center",title:"备注",dataIndex:"remark",key:"remark",scopedSlots:{customRender:"remark"}},{align:"center",title:"操作",key:"action",scopedSlots:{customRender:"action"}}],d={name:"Index",components:{STable:o["b"],PMForm:u["default"]},data:function(){var e=this;return{data:[],provinceOptions:[],queryItem:{},columns:l,loadData:function(t){return Object(c["c"])(Object(i["a"])(Object(i["a"])({},e.queryItem),t)).then((function(e){var t=e.list;return t}))}}},created:function(){var e=this;Object(s["k"])().then((function(t){var r=[];t.data.forEach((function(e){r.push(e.dept_name)})),e.provinceOptions=r}))},methods:{filterOption:function(e,t){return t.componentOptions.children[0].text.indexOf(e)>=0},handleDelete:function(e){var t=this.$message,r=this.handleOk;this.$confirm({title:"确定要删除这条数据吗?",okText:"确定删除",okType:"danger",cancelText:"返回",onOk:function(){Object(c["b"])({id:e.id}).then((function(e){"ok"===e.state?(t.success("删除成功",2),r()):t.error("删除失败",2)}))},onCancel:function(){}})},handleOk:function(){this.$refs.table.refresh()}}},p=d,m=(r("c4fa"),r("2877")),f=Object(m["a"])(p,n,a,!1,null,"007e5292",null);t["default"]=f.exports},c4fa:function(e,t,r){"use strict";r("0f80")},eda1:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:600,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("a-card",{attrs:{"body-style":{padding:"20px"},bordered:!1}},[t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-row",{attrs:{gutter:24}},[t("a-form-item",{attrs:{label:"用户名",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["user_name",{rules:[{required:!0,message:"请输入",whitespace:!0}]}],expression:"[\n              'user_name',\n              {rules: [{ required: true, message: '请输入', whitespace: true}]}\n            ]"}],attrs:{disabled:e.disabled,placeholder:"请输入"}})],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-form-item",{attrs:{label:"项目省",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["province",{rules:[{required:!0,message:"请选择项目省"}]}],expression:"[\n              'province',\n              {rules: [{ required: true, message: '请选择项目省'}]}\n            ]"}],attrs:{placeholder:"请选择"}},e._l(e.provinceOptions,(function(r){return t("a-select-option",{key:r},[e._v(" "+e._s(r)+" ")])})),1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-form-item",{attrs:{label:"项目运营商",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["cbt",{rules:[{required:!0,message:"请选择项目运营商"}]}],expression:"[\n              'cbt',\n              {rules: [{ required: true, message: '请选择项目运营商'}]}\n            ]"}],attrs:{placeholder:"请选择"}},e._l(e.cbtOptions,(function(r){return t("a-select-option",{key:r},[e._v(" "+e._s(r)+" ")])})),1)],1)],1),t("a-row",{attrs:{gutter:24}},[t("a-form-item",{attrs:{label:"备注",labelCol:{lg:{span:6}},wrapperCol:{lg:{span:14}}}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",{rules:[{message:"请输入",whitespace:!0}]}],expression:"[\n              'remark',\n              {rules: [{ message: '请输入', whitespace: true}]}\n            ]"}],attrs:{rows:"2",placeholder:"请输入"}})],1)],1)],1)],1)],1)},a=[],i=(r("d3b7"),r("159b"),r("322e")),o=r("8ac3"),s=r("2df9"),c={name:"PMForm",components:{AFormItem:i["a"]},props:["provinceOptions"],data:function(){return{cbtOptions:[],username:"",title:"",disabled:!1,confirmLoading:!1,itemId:"",visible:!1,labelCol:{lg:{span:6},xs:{span:24},sm:{span:19}},wrapperCol:{lg:{span:14},xs:{span:24},sm:{span:19}}}},beforeCreate:function(){this.form=this.$form.createForm(this)},created:function(){var e=this;Object(o["f"])({dict_type:"cbt"}).then((function(t){var r=[];t.data.forEach((function(e){r.push(e.dic_value)})),e.cbtOptions=r}))},methods:{getDataByType:function(e){var t=[];if(this.dicArray.length>0)return this.dicArray.forEach((function(r){r.dic_type===e&&t.push(r.dic_value)})),t},add:function(){this.title="添加人员信息",this.disabled=!1,this.itemId="";var e=this.form.resetFields;this.$nextTick((function(){e()})),this.visible=!0},edit:function(e){this.title="编辑人员信息",this.disabled=!0,this.visible=!0,this.itemId=e.id;var t=this.form.setFieldsValue;this.$nextTick((function(){t({user_name:e.user_name,province:e.province,cbt:e.cbt,remark:e.remark})}))},handleCancel:function(){this.visible=!1},handleSubmit:function(e){var t=this;e.preventDefault(),this.confirmLoading=!0,this.form.validateFields((function(e,r){e||(t.itemId?(r.id=t.itemId,Object(s["d"])(r).then((function(e){"ok"===e.state?(t.$message.success("编辑成功",2),t.visible=!1,t.confirmLoading=!1,t.$emit("ok",r)):t.$message.error("编辑失败",2),t.disabled=!1,t.visible=!1,t.confirmLoading=!1})).catch((function(){t.visible=!1,t.confirmLoading=!1}))):Object(s["a"])(r).then((function(e){"ok"===e.state?(t.$message.success("添加完成",2),t.$emit("ok",r)):t.$message.error("添加失败",2),t.visible=!1,t.confirmLoading=!1})).catch((function(){t.visible=!1,t.confirmLoading=!1})))}))}}},u=c,l=r("2877"),d=Object(l["a"])(u,n,a,!1,null,null,null);t["default"]=d.exports}}]);