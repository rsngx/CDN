(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4bce9d2"],{"06c5":function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("a630"),r("fb6a"),r("b0c0"),r("d3b7"),r("ac1f"),r("25f0"),r("3ca3");var n=r("6b75");function i(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(t,e):void 0}}},2909:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r("6b75");function i(t){if(Array.isArray(t))return Object(n["a"])(t)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("d3b7"),r("3ca3"),r("ddb0");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var c=r("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(t){return i(t)||o(t)||Object(c["a"])(t)||s()}},4361:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:t.title,width:400,visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleSubmit,cancel:t.handleCancel}},[e("a-card",{attrs:{"body-style":{padding:"20px"},bordered:!1}},[e("a-form",{attrs:{form:t.form},on:{submit:t.handleSubmit}},[e("a-row",{attrs:{gutter:24}},[e("a-form-item",{attrs:{label:"项目省",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["province",{rules:[{required:!0,message:"请选择项目省"}]}],expression:"[\n              'province',\n              {rules: [{required: true, message: '请选择项目省'}]}\n            ]"}],attrs:{placeholder:"请选择"},on:{change:t.onChange}},t._l(t.provinceOptions,(function(r){return e("a-select-option",{key:r},[t._v(" "+t._s(r)+" ")])})),1)],1)],1),e("a-row",{attrs:{gutter:24}},[e("a-form-item",{attrs:{label:"项目运营商",labelCol:t.labelCol,wrapperCol:t.wrapperCol}},[e("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["cbt",{rules:[{required:!0,message:"请选择项目运营商"}]}],expression:"[\n              'cbt',\n              {rules: [{required: true, message: '请选择项目运营商'}]}\n            ]"}],attrs:{placeholder:"请选择"}},t._l(t.cbtFilterOptions,(function(r){return e("a-select-option",{key:r},[t._v(" "+t._s(r)+" ")])})),1)],1)],1)],1)],1)],1)},i=[],o=r("2909"),c=(r("4de4"),r("d3b7"),r("159b"),r("322e")),s=r("8ac3"),a={name:"SubmitForm",components:{AFormItem:c["a"]},props:["cbtOptions"],data:function(){return{provinceOptions:[],title:"",confirmLoading:!1,itemId:"",visible:!1,oProvince:"",oCbt:"",labelCol:{lg:{span:8},xs:{span:24},sm:{span:19}},wrapperCol:{lg:{span:16},xs:{span:24},sm:{span:19}}}},beforeCreate:function(){this.form=this.$form.createForm(this)},created:function(){var t=this;Object(s["k"])().then((function(e){var r=[];e.data.forEach((function(t){r.push(t.dept_name)})),t.provinceOptions=r})),this.cbtFilterOptions=Object(o["a"])(this.cbtOptions)},methods:{edit:function(t){this.title="编辑项目信息(待提交)",this.visible=!0,this.itemId=t.id,this.oProvince=t.province,this.oCbt=t.cbt;var e=this.form.setFieldsValue;if(this.$nextTick((function(){e({province:t.province})})),"集中开发"===t.province)this.cbtFilterOptions=["集中开发"],this.form.setFieldsValue({cbt:"集中开发"});else if(["西区&南区","北区&东区","T2"].indexOf(t.province)>-1)this.cbtFilterOptions=["集中交付"],this.form.setFieldsValue({cbt:"集中交付"});else{this.cbtFilterOptions=this.cbtOptions.filter((function(t){return["集中交付","集中开发"].indexOf(t)<0}));var r="集中交付"!==t.cbt&&"集中开发"!==t.cbt?t.cbt:"";this.form.setFieldsValue({cbt:r})}},onChange:function(t){"集中开发"===t?(this.cbtFilterOptions=["集中开发"],this.form.setFieldsValue({cbt:"集中开发"})):["西区&南区","北区&东区","T2"].indexOf(t)>-1?(this.cbtFilterOptions=["集中交付"],this.form.setFieldsValue({cbt:"集中交付"})):(this.cbtFilterOptions=this.cbtOptions.filter((function(t){return["集中交付","集中开发"].indexOf(t)<0})),this.form.setFieldsValue({cbt:""}))},handleCancel:function(){this.visible=!1},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,r){if(!t){if(e.confirmLoading=!0,r.province===e.oProvince&&r.cbt===e.oCbt)return e.$confirm({content:"该成员的项目省和项目运营商都未改变，故不能继续提交",bodyStyle:{top:"90px"}}),void(e.confirmLoading=!1);e.itemId&&(r.id=e.itemId,Object(s["q"])(r).then((function(t){"ok"===t.state?(e.$message.success("提交成功",2),e.$emit("ok",r)):e.$message.error("提交失败",2),e.visible=!1,e.confirmLoading=!1})).catch((function(){e.visible=!1,e.confirmLoading=!1})))}}))}}},u=a,l=r("2877"),d=Object(l["a"])(u,n,i,!1,null,null,null);e["default"]=d.exports},"6b75":function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},"8ac3":function(t,e,r){"use strict";r.d(e,"i",(function(){return o})),r.d(e,"b",(function(){return c})),r.d(e,"h",(function(){return s})),r.d(e,"m",(function(){return a})),r.d(e,"j",(function(){return u})),r.d(e,"l",(function(){return l})),r.d(e,"g",(function(){return d})),r.d(e,"n",(function(){return p})),r.d(e,"q",(function(){return b})),r.d(e,"p",(function(){return f})),r.d(e,"e",(function(){return m})),r.d(e,"f",(function(){return h})),r.d(e,"k",(function(){return g})),r.d(e,"o",(function(){return v})),r.d(e,"a",(function(){return O})),r.d(e,"d",(function(){return j})),r.d(e,"r",(function(){return y})),r.d(e,"c",(function(){return _}));var n=r("b775"),i={query:"supplier/query",add:"supplier/add",deleteData:"supplier/del",update:"supplier/update",submit:"supplier/submit",audit:"supplier/audit",reject:"supplier/reject",getDicByType:"dict/getByType",getDicAll:"dict/all",getProvice:"org/province",getVendor:"/org/vendor",getAnylisisList:"/supplier/multi_statistics",getProjectStatic:"/supplier/project_statistical",getStatustics:"/supplier/level_statistical",getProjectsDetail:"/supplier/detail",getToDo:"/supplier/todo",getHnStatustics:"/supplier/Hn_level_statistical",addScore:"/score/add_score",updateScore:"/score/update_score",getPscore:"/score/detail_employees_score",getVscore:"/score/detail_supplier_score"};function o(t){return Object(n["b"])({url:i.getProjectStatic,method:"post",params:t})}function c(t){return Object(n["b"])({url:i.addScore,method:"post",params:t})}function s(t){return Object(n["b"])({url:i.getAnylisisList,method:"post",params:t})}function a(t){return Object(n["b"])({url:i.getToDo,method:"post",params:t})}function u(t){return Object(n["b"])({url:i.getProjectsDetail,method:"post",params:t})}function l(t){return Object(n["b"])({url:i.getStatustics,method:"post",params:t})}function d(t){return Object(n["b"])({url:i.getHnStatustics,method:"post",params:t})}function p(t){return Object(n["b"])({url:i.getVendor,method:"get",params:t})}function b(t){return Object(n["b"])({url:i.submit,method:"post",params:t})}function f(t){return Object(n["b"])({url:i.reject,method:"post",params:t})}function m(t){return Object(n["b"])({url:i.getDicAll,method:"get",params:t})}function h(t){return Object(n["b"])({url:i.getDicByType,method:"get",params:t})}function g(t){return Object(n["b"])({url:i.getProvice,method:"get",params:t})}function v(t){return Object(n["b"])({url:i.query,method:"post",params:t})}function O(t){return Object(n["b"])({url:i.add,method:"post",params:t})}function j(t){return Object(n["b"])({url:i.deleteData,method:"post",params:t})}function y(t){return Object(n["b"])({url:i.update,method:"post",params:t})}function _(t){return Object(n["b"])({url:i.audit,method:"post",params:t})}}}]);