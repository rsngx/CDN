(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3095e62e"],{3926:function(e,t,r){"use strict";r("e29a")},"46ad":function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"f",(function(){return i})),r.d(t,"e",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"g",(function(){return l})),r.d(t,"l",(function(){return c})),r.d(t,"a",(function(){return d})),r.d(t,"h",(function(){return p})),r.d(t,"d",(function(){return m})),r.d(t,"k",(function(){return f})),r.d(t,"i",(function(){return b})),r.d(t,"j",(function(){return h}));var n=r("b775"),a={add:"mr/add_report",query:"mr/query",update:"mr/update_report",statistic:"mr/report_statistical",overview:"mr/detail_report",details:"mr/report_detail_query",updateInfo:"mr/update_info",getRole:"mr/role",getPersonnelInfo:"mr/approval_personnel_query",getDailyByPerson:"mr/approval_mr_query",approveDaily:"mr/approval_mr_update",approveBatch:"mr/approval_mr_update_batch"};function o(e){return Object(n["b"])({url:a.approveBatch,method:"post",params:e})}function i(e){return Object(n["b"])({url:a.getPersonnelInfo,method:"post",params:e})}function s(e){return Object(n["b"])({url:a.getDailyByPerson,method:"post",params:e})}function u(e){return Object(n["b"])({url:a.approveDaily,method:"post",params:e})}function l(e){return Object(n["b"])({url:a.getRole,method:"post",params:e})}function c(e){return Object(n["b"])({url:a.updateInfo,method:"post",params:e})}function d(e){return Object(n["b"])({url:a.add,method:"post",params:e})}function p(e){return Object(n["b"])({url:a.overview,method:"post",params:e})}function m(e){return Object(n["b"])({url:a.details,method:"post",params:e})}function f(e){return Object(n["b"])({url:a.update,method:"post",params:e})}function b(e){return Object(n["b"])({url:a.query,method:"post",params:e})}function h(e){return Object(n["b"])({url:a.statistic,method:"post",params:e})}},e29a:function(e,t,r){},e788:function(e,t,r){"use strict";r.r(t);r("b0c0");var n=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:"批量批复",width:600,visible:e.visible,confirmLoading:e.confirmLoading,maskClosable:!1},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("a-form",{attrs:{form:e.form,layout:"horizontal"}},["batch"===e.flag?[e._l(e.data,(function(r,n){return[t("a-row",{key:n},[t("a-col",{attrs:{span:7}},[t("a-form-item",{attrs:{label:"填写人","label-col":{span:8},"wrapper-col":{span:16}}},[t("span",[e._v(" "+e._s(r.name))])])],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"可用package","label-col":{span:10},"wrapper-col":{span:14}}},[t("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["wtrcount[".concat(n,"]"),{initialValue:r.wtrcount,rules:[{required:!0,message:"请输入",whitespace:!0,type:"number"}]}],expression:"[\n                  `wtrcount[${index}]`,\n                  { initialValue: i.wtrcount,\n                    rules: [{\n                      required: true,\n                      message: '请输入',\n                      whitespace: true,\n                      type: 'number'\n                    }]\n                  }\n                ]"}]})],1)],1)],1),n<e.data.length?t("a-divider",{key:"line"+n,staticStyle:{margin:"0 0 8px 0"}}):e._e()]}))]:e._e(),t("a-row",[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"PO Number","label-col":{span:10},"wrapper-col":{span:14}}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["poid",{initialValue:"",rules:[{required:!0,message:"请输入8-10位数字",whitespace:!0,pattern:/^\d{8,10}$/}]}],expression:"[\n              'poid',\n              { initialValue: '',\n                rules: [{\n                  required: true,\n                  message: '请输入8-10位数字',\n                  whitespace: true,\n                  pattern: /^\\d{8,10}$/}]}\n            ]"}],attrs:{placeholder:"请输入"}})],1)],1)],1)],2)],1)},a=[],o=r("5530"),i=(r("a15b"),r("46ad")),s={name:"ApprovalModal",data:function(){return{confirmLoading:!1,visible:!1,data:[],flag:"batch",monthly:"",selectedRowKeys:[]}},beforeCreate:function(){this.form=this.$form.createForm(this)},methods:{handleShow:function(e,t,r,n){this.visible=!0,this.data=t,this.selectedRowKeys=e,this.flag=r,n&&(this.monthly=n),this.form.setFieldsValue({poid:""})},handleCancel:function(){this.visible=!1},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,r){if(!e){t.confirmLoading=!0;var n=t.selectedRowKeys.length>1?t.selectedRowKeys.join(","):t.selectedRowKeys.join(),a="details"===t.flag?i["c"]:i["b"],s=Object(o["a"])({},r);"details"===t.flag?s.id=n:s.idcard=n,t.monthly&&(s.monthly_report_time=t.monthly),"batch"===t.flag&&(s.numbers=r.wtrcount.length>1?r.wtrcount.join(","):r.wtrcount.join(),delete s.wtrcount),a(s).then((function(e){"ok"===e.state?(t.$message.success("审批成功",2),t.$emit("ok")):t.$message.error("审批失败",2),t.visible=!1,t.confirmLoading=!1})).catch((function(){t.visible=!1,t.confirmLoading=!1}))}}))}}},u=s,l=(r("3926"),r("2877")),c=Object(l["a"])(u,n,a,!1,null,"7f471aea",null);t["default"]=c.exports}}]);