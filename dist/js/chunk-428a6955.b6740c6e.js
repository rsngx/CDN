(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-428a6955","chunk-895b8c04"],{"0011":function(e,t,a){"use strict";a("2469")},2469:function(e,t,a){},"46ad":function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"f",(function(){return n})),a.d(t,"e",(function(){return s})),a.d(t,"c",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"l",(function(){return p})),a.d(t,"a",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"d",(function(){return u})),a.d(t,"k",(function(){return f})),a.d(t,"i",(function(){return b})),a.d(t,"j",(function(){return h}));var r=a("b775"),i={add:"mr/add_report",query:"mr/query",update:"mr/update_report",statistic:"mr/report_statistical",overview:"mr/detail_report",details:"mr/report_detail_query",updateInfo:"mr/update_info",getRole:"mr/role",getPersonnelInfo:"mr/approval_personnel_query",getDailyByPerson:"mr/approval_mr_query",approveDaily:"mr/approval_mr_update",approveBatch:"mr/approval_mr_update_batch"};function o(e){return Object(r["b"])({url:i.approveBatch,method:"post",params:e})}function n(e){return Object(r["b"])({url:i.getPersonnelInfo,method:"post",params:e})}function s(e){return Object(r["b"])({url:i.getDailyByPerson,method:"post",params:e})}function l(e){return Object(r["b"])({url:i.approveDaily,method:"post",params:e})}function c(e){return Object(r["b"])({url:i.getRole,method:"post",params:e})}function p(e){return Object(r["b"])({url:i.updateInfo,method:"post",params:e})}function d(e){return Object(r["b"])({url:i.add,method:"post",params:e})}function m(e){return Object(r["b"])({url:i.overview,method:"post",params:e})}function u(e){return Object(r["b"])({url:i.details,method:"post",params:e})}function f(e){return Object(r["b"])({url:i.update,method:"post",params:e})}function b(e){return Object(r["b"])({url:i.query,method:"post",params:e})}function h(e){return Object(r["b"])({url:i.statistic,method:"post",params:e})}},ec4f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:950,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("a-card",{attrs:{"body-style":{padding:"20px"},bordered:!1}},[t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-row",{staticClass:"form-row",attrs:{gutter:12}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"邮箱",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["engineer_email",{rules:[{type:"email",message:"请输入有效的邮箱!"},{required:!0,message:"请输入",whitespace:!0}]}],expression:"[\n                'engineer_email',\n                { rules: [{type: 'email', message: '请输入有效的邮箱!'},\n                          { required: true, message: '请输入', whitespace: true}]}\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"项目名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["project_name",{rules:[{required:!0,message:"请输入",whitespace:!0}]}],expression:"[\n                'project_name',\n                {rules: [{ required: true, message: '请输入', whitespace: true }]}\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1)],1),t("a-row",{staticClass:"form-row",attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"项目经理电话",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pm_mobile",{rules:[{required:!0,message:"请输入",whitespace:!0,pattern:/^1[3456789]\d{9}$/}]}],expression:"[\n                'pm_mobile',\n                {rules: [{ required: true, message: '请输入', whitespace: true, pattern: /^1[3456789]\\d{9}$/}]}\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"项目经理邮箱",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pm_email",{rules:[{type:"email",message:"请输入有效的邮箱!"},{required:!0,message:"请输入",whitespace:!0}]}],expression:"[\n                'pm_email',\n                { rules: [{type: 'email', message: '请输入有效的邮箱!'},\n                          { required: true, message: '请输入', whitespace: true}]}\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1)],1),t("a-row",{staticClass:"form-row",attrs:{gutter:24}},[t("a-form-item",{staticStyle:{"margin-left":"-65px","margin-right":"10px"},attrs:{label:"工作职责",labelCol:{lg:{span:5}},wrapperCol:{lg:{span:19}}}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["job_responsibilities",{rules:[{required:e.required,message:"请输入",whitespace:!0}]}],expression:"[\n              'job_responsibilities',\n              {rules: [{ required: required, message: '请输入', whitespace: true}]}\n            ]"}],attrs:{rows:"3",placeholder:"请输入"}})],1)],1)],1)],1)],1)},i=[],o=a("322e"),n=a("46ad"),s={name:"AddForm",components:{AFormItem:o["a"]},props:["vendorOptions"],data:function(){return{title:"",confirmLoading:!1,visible:!1,required:!0,labelCol:{lg:{span:6},xs:{span:24},sm:{span:19}},wrapperCol:{lg:{span:18},xs:{span:24},sm:{span:19}},idcard:""}},beforeCreate:function(){this.form=this.$form.createForm(this)},methods:{edit:function(e){if(e&&e.idcard){this.title="增补信息",this.idcard=e.idcard,this.visible=!0;var t=this.form.setFieldsValue;this.$nextTick((function(){t({project_name:e.project_name,pm_mobile:e.pm_mobile,pm_email:e.pm_email,job_responsibilities:e.job_responsibilities,engineer_email:e.engineer_email})}))}else this.$message.info("获取身份信息失败，不能增补")},onChange:function(){},handleCancel:function(){this.visible=!1},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||(t.confirmLoading=!0,a.idcard=t.idcard,Object(n["l"])(a).then((function(e){"ok"===e.state?(t.$message.success("编辑成功",2),t.$emit("ok",a)):t.$message.error("编辑失败",2),t.visible=!1,t.confirmLoading=!1})).catch((function(){t.visible=!1,t.confirmLoading=!1})))}))}}},l=s,c=a("2877"),p=Object(c["a"])(l,r,i,!1,null,null,null);t["default"]=p.exports},f77b:function(e,t,a){"use strict";a.r(t);a("fb6a");var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{display:"flex","justify-content":"right","padding-top":"5px"}},[t("a-button",{attrs:{type:"primary"},on:{click:e.openEditForm}},[e._v("增补信息")])],1),t("a-card",{staticStyle:{height:"calc(100vh - 200px)"},attrs:{bordered:!1}},[t("a-col",{attrs:{span:7}},[t("div",{staticClass:"rightLine"},[t("a-row",[t("a-card",{staticStyle:{"border-bottom":"1px solid #e8e8e8"},attrs:{bordered:!1}},[t("div",{staticStyle:{"margin-bottom":"16px"}},[t("a-icon",{staticStyle:{color:"#409eff"},attrs:{type:"caret-right"}}),t("span",{staticStyle:{"font-weight":"600"}},[e._v("基本信息")])],1),t("div",{staticStyle:{height:"60%"}},[t("div",{staticStyle:{"text-align":"center","padding-bottom":"10px"}},[t("a-avatar",{attrs:{size:64,icon:"user"}})],1),t("a-descriptions",{attrs:{column:1}},e._l(e.info,(function(a){return t("a-descriptions-item",{key:a.key,attrs:{label:a.label}},[t("span",{staticClass:"spanWeight"},[e._v(e._s(e.data[a.key]))])])})),1)],1)])],1),t("a-row",[t("a-card",{staticStyle:{"margin-top":"10px"},attrs:{bordered:!1}},[t("a-descriptions",{attrs:{layout:"vertical",colon:!1,column:2}},e._l(e.jobInfo,(function(a){return t("a-descriptions-item",{key:a.key},[t("template",{slot:"label"},[t("a-badge",{attrs:{color:a.color,text:a.label}})],1),t("span",{staticClass:"spanFont"},[e._v(e._s(e.data[a.key]))])],2)})),1)],1)],1)],1)]),t("a-col",{staticClass:"rightLine",attrs:{span:7}},[t("a-row",[t("a-card",{staticStyle:{"border-bottom":"1px solid #e8e8e8"},attrs:{bordered:!1}},[t("div",{staticStyle:{"margin-bottom":"16px"}},[t("a-icon",{staticStyle:{color:"#409eff"},attrs:{type:"caret-right"}}),t("span",{staticStyle:{"font-weight":"600"}},[e._v("项目信息")])],1),t("a-descriptions",{attrs:{layout:"vertical",colon:!1}},e._l(e.projectInfo,(function(a){return t("a-descriptions-item",{key:a.key,attrs:{label:a.label,span:a.span}},[t("span",{staticClass:"spanWeight"},[e._v(e._s(e.data[a.key]))])])})),1)],1)],1),t("a-row",[t("a-card",{attrs:{bordered:!1}},[t("div",{staticStyle:{"margin-bottom":"16px","margin-top":"10px"}},[t("a-icon",{staticStyle:{color:"#409eff"},attrs:{type:"caret-right"}}),t("span",{staticStyle:{"font-weight":"600"}},[e._v("半年工作经验")])],1),t("div",[e.experience.length>130?[t("a-popover",{attrs:{content:e.experience,placement:"bottomLeft",overlayStyle:{width:"50%"}}},[t("p",[e._v(e._s(e.experience.slice(0,130)+"……"))])])]:[t("p",[e._v(e._s(e.experience))])]],2)])],1)],1),t("a-col",{attrs:{span:10}},[t("div",{staticStyle:{"margin-bottom":"16px","margin-top":"10px"}},[t("a-icon",{staticStyle:{color:"#409eff"},attrs:{type:"caret-right"}}),t("span",{staticStyle:{"font-weight":"600"}},[e._v("月报简介")])],1),t("div",{staticStyle:{"margin-bottom":"-40px","margin-left":"15px"}},[e._v("Package："+e._s(e.wtr))])]),t("edit-form",{ref:"editForm",on:{ok:e.handleOk}})],1)],1)},i=[],o=(a("99af"),a("4de4"),a("d3b7"),a("159b"),a("c32d")),n=a.n(o),s=a("46ad"),l=a("ec4f"),c={components:{EditForm:l["default"]},data:function(){return{info:[{key:"name",label:"填写人"},{key:"mobile",label:"电话"},{key:"engineer_email",label:"邮箱"},{key:"vendor",label:"公司"},{key:"onjob",label:"是否在岗"}],jobInfo:[{key:"product_skills",label:"产品技能",color:"cyan"},{key:"business_skills",label:"业务技能",color:"lime"}],projectInfo:[{key:"province",label:"项目省",span:1},{key:"cbt",label:"项目运营商",span:1},{key:"pm",label:"项目经理",span:1},{key:"project_name",label:"项目名称",span:1},{key:"pm_mobile",label:"项目经理电话",span:2},{key:"pm_email",label:"项目经理邮箱",span:3},{key:"job_responsibilities",label:"工作职责",span:3}],data:{},experience:"",wtr:0,list:[],choosedDate:n()()}},created:function(){this.init()},methods:{moment:n.a,init:function(e){var t,a,r=this,i=this.$store.state.user.info.user_id;e?(t=e.format("L").split("/")[1],a=e.year()):(t=n()().format("L").split("/")[1],a=n()().year()),Object(s["h"])({user_id:i,monthly_report_time:"P".concat(t,".Y").concat(a)}).then((function(e){r.list=e.report,r.data=e.information,r.experience=r.data.experience,r.wtr=e.report.filter((function(e){return e.job_description})).length}))},onSelect:function(){this.$emit("open-report",this.choosedDate)},onPanelChange:function(e,t){this.choosedDate=e,this.init(e)},getComplete:function(e){var t=[];return this.list.forEach((function(e){""!==e.job_description&&t.push(n()(e.daily_time).format("YYYY-MM-DD"))})),t.indexOf(e.format("YYYY-MM-DD"))>-1},openEditForm:function(){this.$refs.editForm.edit(this.data)},handleOk:function(){this.init()}}},p=c,d=(a("0011"),a("2877")),m=Object(d["a"])(p,r,i,!1,null,"08b5b112",null);t["default"]=m.exports}}]);