(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65209700"],{"08c5":function(e,t,a){"use strict";a("45cd")},"33e6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"account-settings-info-view"},[t("a-row",{attrs:{gutter:16}},[t("a-col",{attrs:{md:24,lg:16}},[t("a-form",{staticStyle:{"max-width":"500px",margin:"40px 0 0"},attrs:{layout:"vertical",form:e.form,initData:e.initData},on:{submit:e.handleSubmit}},[t("a-form-item",{attrs:{label:"昵称"}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["user_name",{initialValue:e.info.user_name,rules:[{required:!0,message:"昵称为必填项"}]}],expression:"[\n              'user_name',\n              {initialValue: info.user_name,rules: [{ required: true, message: '昵称为必填项' }]}\n            ]"}],attrs:{placeholder:"给自己起个名字"}})],1),t("a-form-item",{attrs:{label:"电子邮件",required:!1}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{initialValue:e.info.email,rules:[{type:"email",message:"请输入正确格式的邮箱"}]}],expression:"[\n              'email',\n              {\n                initialValue: info.email,\n                rules: [{\n                  type: 'email', message: '请输入正确格式的邮箱'\n                }],\n              }\n            ]"}],attrs:{placeholder:"例如：exp@admin.com"}})],1),t("a-form-item",{attrs:{label:"手机号码",required:!1}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["mobile",{initialValue:e.info.mobile,rules:[{validator:e.validateMobile}]}],expression:"[\n              'mobile',\n              {\n                initialValue: info.mobile,\n                rules: [{validator: validateMobile}]\n              }\n            ]"}],attrs:{placeholder:"请输入手机号"}})],1),t("a-form-item",[t("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("保存")])],1)],1)],1)],1)],1)},r=[],n=a("5530"),o=(a("ac1f"),a("8bbf")),s=a.n(o),l=a("b775"),u={update:"/portal/updateUserInfo",select:"/user/info"};function m(e){return Object(l["b"])({url:u.update,method:"post",params:e})}function c(e){return Object(l["b"])({url:u.select,method:"get",params:e})}var d=a("322e"),f={components:{AFormItem:d["a"]},data:function(){return{info:{email:"",user_name:"",mobile:"",userId:""},updateBtn:!1,state:{updateBtn:!1}}},beforeCreate:function(){this.form=this.$form.createForm(this)},methods:{initData:function(){var e=this,t=s.a.ls.get("user").user_id;this.info.userId=t,c({userId:t}).then((function(t){if("ok"===t.state){var a=t.org;e.info.email=a.email,e.info.user_name=a.user_name,e.info.mobile=a.mobile}}))},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFieldsAndScroll((function(e,a){if(!e){var i=Object(n["a"])(Object(n["a"])({},a),{},{user_id:t.info.userId});m(i).then((function(e){e&&"ok"===e.state?t.$message.success("编辑成功",2):t.$message.error("编辑失败",2)}))}}))},validateMobile:function(e,t,a){var i=this.form,r=/^[1][3,4,5,6,7,8,9][0-9]{9}$/;r.test(t)||a(new Error("请输入11位正确的手机号码")),t&&this.confirmDirty&&i.validateFields(["mobile"],{force:!0}),a()}},mounted:function(){this.initData()}},p=f,b=(a("08c5"),a("2877")),v=Object(b["a"])(p,i,r,!1,null,"54c6f426",null);t["default"]=v.exports},"45cd":function(e,t,a){}}]);