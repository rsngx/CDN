(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f65f23aa"],{"0011":function(e,t,a){"use strict";a("2469")},2469:function(e,t,a){},"249e":function(e,t,a){},"46a3":function(e,t,a){"use strict";a("249e")},aaae:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("a-tabs",{attrs:{"active-key":e.activeKey},on:{change:e.tabChange}},[t("a-tab-pane",{key:"overview",attrs:{tab:"工程师总览"}},[t("overview",{ref:"overview",on:{"open-report":e.openReport}})],1),t("a-tab-pane",{key:"dailyreport",attrs:{tab:"月报详情",forceRender:""}},[t("daily-report",{ref:"dailyreport"})],1)],1)],1)},i=[],s=a("5530"),o=a("f77b"),n=a("d87c"),l=a("c32d"),c=a.n(l),p=a("5880"),d={components:{DailyReport:n["default"],Overview:o["default"]},data:function(){return{activeKey:"overview",date:c()()}},mounted:function(){this.setSidebar(!1)},methods:Object(s["a"])(Object(s["a"])({},Object(p["mapActions"])(["setSidebar"])),{},{openReport:function(e){this.date=e,this.activeKey="dailyreport",this.$refs.dailyreport.init(e)},tabChange:function(e){this.activeKey=e,this.$refs[e].init(this.date)}})},m=d,u=(a("46a3"),a("2877")),f=Object(u["a"])(m,r,i,!1,null,"600ce118",null);t["default"]=f.exports},ec4f:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,width:950,visible:e.visible,confirmLoading:e.confirmLoading},on:{ok:e.handleSubmit,cancel:e.handleCancel}},[t("a-card",{attrs:{"body-style":{padding:"20px"},bordered:!1}},[t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-row",{staticClass:"form-row",attrs:{gutter:12}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"邮箱",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["engineer_email",{rules:[{type:"email",message:"请输入有效的邮箱!"},{required:!0,message:"请输入",whitespace:!0}]}],expression:"[\n                'engineer_email',\n                { rules: [{type: 'email', message: '请输入有效的邮箱!'},\n                          { required: true, message: '请输入', whitespace: true}]}\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"项目名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["project_name",{rules:[{required:!0,message:"请输入",whitespace:!0}]}],expression:"[\n                'project_name',\n                {rules: [{ required: true, message: '请输入', whitespace: true }]}\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1)],1),t("a-row",{staticClass:"form-row",attrs:{gutter:24}},[t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"项目经理电话",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pm_mobile",{rules:[{required:!0,message:"请输入",whitespace:!0,pattern:/^1[3456789]\d{9}$/}]}],expression:"[\n                'pm_mobile',\n                {rules: [{ required: true, message: '请输入', whitespace: true, pattern: /^1[3456789]\\d{9}$/}]}\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1),t("a-col",{attrs:{span:12}},[t("a-form-item",{attrs:{label:"项目经理邮箱",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["pm_email",{rules:[{type:"email",message:"请输入有效的邮箱!"},{required:!0,message:"请输入",whitespace:!0}]}],expression:"[\n                'pm_email',\n                { rules: [{type: 'email', message: '请输入有效的邮箱!'},\n                          { required: true, message: '请输入', whitespace: true}]}\n              ]"}],attrs:{placeholder:"请输入"}})],1)],1)],1),t("a-row",{staticClass:"form-row",attrs:{gutter:24}},[t("a-form-item",{staticStyle:{"margin-left":"-65px","margin-right":"10px"},attrs:{label:"工作职责",labelCol:{lg:{span:5}},wrapperCol:{lg:{span:19}}}},[t("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["job_responsibilities",{rules:[{required:e.required,message:"请输入",whitespace:!0}]}],expression:"[\n              'job_responsibilities',\n              {rules: [{ required: required, message: '请输入', whitespace: true}]}\n            ]"}],attrs:{rows:"3",placeholder:"请输入"}})],1)],1)],1)],1)],1)},i=[],s=a("322e"),o=a("46ad"),n={name:"AddForm",components:{AFormItem:s["a"]},props:["vendorOptions"],data:function(){return{title:"",confirmLoading:!1,visible:!1,required:!0,labelCol:{lg:{span:6},xs:{span:24},sm:{span:19}},wrapperCol:{lg:{span:18},xs:{span:24},sm:{span:19}},idcard:""}},beforeCreate:function(){this.form=this.$form.createForm(this)},methods:{edit:function(e){if(e&&e.idcard){this.title="增补信息",this.idcard=e.idcard,this.visible=!0;var t=this.form.setFieldsValue;this.$nextTick((function(){t({project_name:e.project_name,pm_mobile:e.pm_mobile,pm_email:e.pm_email,job_responsibilities:e.job_responsibilities,engineer_email:e.engineer_email})}))}else this.$message.info("获取身份信息失败，不能增补")},onChange:function(){},handleCancel:function(){this.visible=!1},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){e||(t.confirmLoading=!0,a.idcard=t.idcard,Object(o["l"])(a).then((function(e){"ok"===e.state?(t.$message.success("编辑成功",2),t.$emit("ok",a)):t.$message.error("编辑失败",2),t.visible=!1,t.confirmLoading=!1})).catch((function(){t.visible=!1,t.confirmLoading=!1})))}))}}},l=n,c=a("2877"),p=Object(c["a"])(l,r,i,!1,null,null,null);t["default"]=p.exports},f77b:function(e,t,a){"use strict";a.r(t);a("fb6a");var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{display:"flex","justify-content":"right","padding-top":"5px"}},[t("a-button",{attrs:{type:"primary"},on:{click:e.openEditForm}},[e._v("增补信息")])],1),t("a-card",{staticStyle:{height:"calc(100vh - 200px)"},attrs:{bordered:!1}},[t("a-col",{attrs:{span:7}},[t("div",{staticClass:"rightLine"},[t("a-row",[t("a-card",{staticStyle:{"border-bottom":"1px solid #e8e8e8"},attrs:{bordered:!1}},[t("div",{staticStyle:{"margin-bottom":"16px"}},[t("a-icon",{staticStyle:{color:"#409eff"},attrs:{type:"caret-right"}}),t("span",{staticStyle:{"font-weight":"600"}},[e._v("基本信息")])],1),t("div",{staticStyle:{height:"60%"}},[t("div",{staticStyle:{"text-align":"center","padding-bottom":"10px"}},[t("a-avatar",{attrs:{size:64,icon:"user"}})],1),t("a-descriptions",{attrs:{column:1}},e._l(e.info,(function(a){return t("a-descriptions-item",{key:a.key,attrs:{label:a.label}},[t("span",{staticClass:"spanWeight"},[e._v(e._s(e.data[a.key]))])])})),1)],1)])],1),t("a-row",[t("a-card",{staticStyle:{"margin-top":"10px"},attrs:{bordered:!1}},[t("a-descriptions",{attrs:{layout:"vertical",colon:!1,column:2}},e._l(e.jobInfo,(function(a){return t("a-descriptions-item",{key:a.key},[t("template",{slot:"label"},[t("a-badge",{attrs:{color:a.color,text:a.label}})],1),t("span",{staticClass:"spanFont"},[e._v(e._s(e.data[a.key]))])],2)})),1)],1)],1)],1)]),t("a-col",{staticClass:"rightLine",attrs:{span:7}},[t("a-row",[t("a-card",{staticStyle:{"border-bottom":"1px solid #e8e8e8"},attrs:{bordered:!1}},[t("div",{staticStyle:{"margin-bottom":"16px"}},[t("a-icon",{staticStyle:{color:"#409eff"},attrs:{type:"caret-right"}}),t("span",{staticStyle:{"font-weight":"600"}},[e._v("项目信息")])],1),t("a-descriptions",{attrs:{layout:"vertical",colon:!1}},e._l(e.projectInfo,(function(a){return t("a-descriptions-item",{key:a.key,attrs:{label:a.label,span:a.span}},[t("span",{staticClass:"spanWeight"},[e._v(e._s(e.data[a.key]))])])})),1)],1)],1),t("a-row",[t("a-card",{attrs:{bordered:!1}},[t("div",{staticStyle:{"margin-bottom":"16px","margin-top":"10px"}},[t("a-icon",{staticStyle:{color:"#409eff"},attrs:{type:"caret-right"}}),t("span",{staticStyle:{"font-weight":"600"}},[e._v("半年工作经验")])],1),t("div",[e.experience.length>130?[t("a-popover",{attrs:{content:e.experience,placement:"bottomLeft",overlayStyle:{width:"50%"}}},[t("p",[e._v(e._s(e.experience.slice(0,130)+"……"))])])]:[t("p",[e._v(e._s(e.experience))])]],2)])],1)],1),t("a-col",{attrs:{span:10}},[t("div",{staticStyle:{"margin-bottom":"16px","margin-top":"10px"}},[t("a-icon",{staticStyle:{color:"#409eff"},attrs:{type:"caret-right"}}),t("span",{staticStyle:{"font-weight":"600"}},[e._v("月报简介")])],1),t("div",{staticStyle:{"margin-bottom":"-40px","margin-left":"15px"}},[e._v("Package："+e._s(e.wtr))])]),t("edit-form",{ref:"editForm",on:{ok:e.handleOk}})],1)],1)},i=[],s=(a("99af"),a("4de4"),a("d3b7"),a("159b"),a("c32d")),o=a.n(s),n=a("46ad"),l=a("ec4f"),c={components:{EditForm:l["default"]},data:function(){return{info:[{key:"name",label:"填写人"},{key:"mobile",label:"电话"},{key:"engineer_email",label:"邮箱"},{key:"vendor",label:"公司"},{key:"onjob",label:"是否在岗"}],jobInfo:[{key:"product_skills",label:"产品技能",color:"cyan"},{key:"business_skills",label:"业务技能",color:"lime"}],projectInfo:[{key:"province",label:"项目省",span:1},{key:"cbt",label:"项目运营商",span:1},{key:"pm",label:"项目经理",span:1},{key:"project_name",label:"项目名称",span:1},{key:"pm_mobile",label:"项目经理电话",span:2},{key:"pm_email",label:"项目经理邮箱",span:3},{key:"job_responsibilities",label:"工作职责",span:3}],data:{},experience:"",wtr:0,list:[],choosedDate:o()()}},created:function(){this.init()},methods:{moment:o.a,init:function(e){var t,a,r=this,i=this.$store.state.user.info.user_id;e?(t=e.format("L").split("/")[1],a=e.year()):(t=o()().format("L").split("/")[1],a=o()().year()),Object(n["h"])({user_id:i,monthly_report_time:"P".concat(t,".Y").concat(a)}).then((function(e){r.list=e.report,r.data=e.information,r.experience=r.data.experience,r.wtr=e.report.filter((function(e){return e.job_description})).length}))},onSelect:function(){this.$emit("open-report",this.choosedDate)},onPanelChange:function(e,t){this.choosedDate=e,this.init(e)},getComplete:function(e){var t=[];return this.list.forEach((function(e){""!==e.job_description&&t.push(o()(e.daily_time).format("YYYY-MM-DD"))})),t.indexOf(e.format("YYYY-MM-DD"))>-1},openEditForm:function(){this.$refs.editForm.edit(this.data)},handleOk:function(){this.init()}}},p=c,d=(a("0011"),a("2877")),m=Object(d["a"])(p,r,i,!1,null,"08b5b112",null);t["default"]=m.exports}}]);